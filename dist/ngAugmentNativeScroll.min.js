!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ngAugmentNativeScroll=t():e.ngAugmentNativeScroll=t()}(this,function(){return function(e){function t(l){if(o[l])return o[l].exports;var r=o[l]={exports:{},id:l,loaded:!1};return e[l].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){"use strict";angular.module("ngAugmentNativeScroll",[]).factory("utils",o(1)).value("kineticEngine",o(2)).directive("connectScrolls",o(3)).directive("scrollArea",o(4)).directive("kineticScroll",o(5))},function(e,t){function o(){return{findMatchingTarget:function(e,t){var o;return t.length&&"BODY"!==e.tagName?(o=t.find(function(t){return t.id===e.id}),o?e.id:this.findMatchingTarget(e.parentElement,t)):"BODY"},getPoint:function(e,t){var o;return o=t&&event.touches.length?{x:event.touches[0].clientX,y:event.touches[0].clientY}:{x:event.clientX,y:event.clientY}},getTime:Date.now||function(){return(new Date).utils.getTime()}}}e.exports=o},function(e,t){"use strict";function o(e,t){e.scrollLeft=0,e.scrollTop=0,e.lastScrollLeft=0,e.lastScrollTop=0,e.targetTop=0,e.targetLeft=0,e.velocityTop=0,e.velocityLeft=0,e.amplitudeTop=0,e.amplitudeLeft=0,e.timeStamp=0,e.referenceX=0,e.referenceY=0,e.pressed=!1,e.autoScrollTracker=null,e.isAutoScrolling=!1,e.leftTracker=function(){var o,l,r;o=t.getTime(),l=o-e.timeStamp,e.timeStamp=o,r=e.scrollLeft-e.lastScrollLeft,e.lastScrollLeft=e.scrollLeft,e.velocityLeft=e.userOptions.movingAverage*(1e3*r/(1+l))+.2*e.velocityLeft},e.topTracker=function(){var o,l,r;o=t.getTime(),l=o-e.timeStamp,e.timeStamp=o,r=e.scrollTop-e.lastScrollTop,e.lastScrollTop=e.scrollTop,e.velocityTop=e.userOptions.movingAverage*(1e3*r/(1+l))+.2*e.velocityTop},e.scrollTo=function(t,o){var l=Math.round(t),r=Math.round(o);e.childNodes.forEach(function(t){var o=t.children[0],c=o.scrollWidth-o.clientWidth,n=o.scrollHeight-o.clientHeight;c>0&&l>=0&&l<=c&&(o.scrollLeft=l,e.scrollLeft=l),n>0&&r>=0&&r<=n&&(o.scrollTop=r,e.scrollTop=r)})},e.autoScroll=function(){var o,l=0,r=0,c=0,n=0,i=325;o=t.getTime()-e.timeStamp,e.amplitudeTop&&(l=-e.amplitudeTop*Math.exp(-o/i)),e.amplitudeLeft&&(r=-e.amplitudeLeft*Math.exp(-o/i)),c=r>.5||r<-.5?r:0,n=l>.5||l<-.5?l:0,e.scrollTo(e.targetLeft+c,e.targetTop+n),0!==c||0!==n?e.autoScrollTracker=requestAnimationFrame(e.autoScroll):(e.isAutoScrolling=!1,e.autoScrollTracker=null)},e.cancelAutoScroll=function(){e.isAutoScrolling&&(cancelAnimationFrame(e.autoScrollTracker),e.isAutoScrolling=!1,e.autoScrollTracker=null)},e.tap=function(o){return e.pressed=!0,e.referenceX=t.getPoint(o,e.hasTouch).x,e.referenceY=t.getPoint(o,e.hasTouch).y,e.velocityTop=e.amplitudeTop=0,e.velocityLeft=e.amplitudeLeft=0,e.lastScrollTop=e.scrollTop,e.lastScrollLeft=e.scrollLeft,e.timeStamp=t.getTime(),e.cancelAutoScroll(),e.$listener.addEventListener("mousemove",e.swipe,!0),e.$listener.addEventListener("mouseup",e.release,!0),o.preventDefault(),o.stopPropagation(),!1},e.swipe=function(o){var l,r,c,n;return e.pressed&&(l=t.getPoint(o,e.hasTouch).x,r=t.getPoint(o,e.hasTouch).y,c=e.referenceX-l,n=e.referenceY-r,c>2||c<-2?e.referenceX=l:c=0,n>2||n<-2?e.referenceY=r:n=0,e.topTracker(),e.leftTracker(),e.scrollTo(e.scrollLeft+c,e.scrollTop+n)),o.preventDefault(),o.stopPropagation(),!1},e.release=function(o){return e.pressed=!1,e.timeStamp=t.getTime(),e.topTracker(),e.leftTracker(),e.velocityTop>10||e.velocityTop<-10?(e.amplitudeTop=.8*e.velocityTop,e.targetTop=Math.round(e.scrollTop+e.amplitudeTop)):e.targetTop=e.scrollTop,e.velocityLeft>10||e.velocityLeft<-10?(e.amplitudeLeft=.8*e.velocityLeft,e.targetLeft=Math.round(e.scrollLeft+e.amplitudeLeft)):e.targetLeft=e.scrollLeft,e.isAutoScrolling=!0,e.autoScrollTracker=requestAnimationFrame(e.autoScroll),e.$listener.removeEventListener("mousemove",e.swipe),e.$listener.removeEventListener("mouseup",e.release),o.preventDefault(),o.stopPropagation(),!1},!e.hasTouch&&e.userOptions.enableKinetics&&e.$listener.addEventListener("mousedown",e.tap,!0),e.$on("$destroy",function(){e.$listener.removeEventListener("mousedown",e.tap)})}e.exports=o},function(e,t){"use strict";function o(e,t){return{restrict:"E",scope:{options:"="},transclude:!0,replace:!0,template:'<span data-name="conntect-scroll" ng-transclude></span>',link:function(o,l){o.hasTouch="ontouchstart"in window,o.DETECT_EVT=o.hasTouch?"touchstart":"mouseover",o.activeId=void 0,o.$listener=l[0],o.defaultOptions={enableKinetics:!1,movingAverage:.1},o.userOptions=angular.extend({},o.defaultOptions,o.options),t.call(this,o,e),o.setActiveNode=function(t){o.activeId=e.findMatchingTarget(t.target,o.childNodes)},o.onScroll=function(e){if(o.pressed||o.isAutoScrolling)return e.preventDefault(),void e.stopPropagation();var t=e.target,l=void 0,r=void 0;t.clientWidth!==t.scrollWidth?(l=t.scrollLeft,o.lastScrollLeft=o.scrollLeft,o.scrollLeft=l):l=o.scrollLeft,t.clientHeight!==t.scrollHeight?(r=t.scrollTop,o.lastScrollTop=o.scrollTop,o.scrollTop=r):r=o.scrollTop,o.childNodes.forEach(function(e){e.id!==o.activeId&&(e.children[0].scrollLeft=l,e.children[0].scrollTop=r)})},o.$listener.addEventListener(o.DETECT_EVT,o.setActiveNode,!0),o.$listener.addEventListener("scroll",o.onScroll,!0),o.$on("$destroy",function(){o.$listener.removeEventListener(o.DETECT_EVT,o.setActiveNode),o.$listener.removeEventListener("scroll",o.onScroll)}),o.$parent.connectedScrolls={scrollToStart:function(){o.cancelAutoScroll(),o.timeStamp=e.getTime(),o.targetLeft=0,o.targetTop=0,o.amplitudeLeft=-o.scrollLeft,o.amplitudeTop=-o.scrollTop,o.isAutoScrolling=!0,o.autoScrollTracker=requestAnimationFrame(o.autoScroll)},scrollToStartLeft:function(){o.cancelAutoScroll(),o.timeStamp=e.getTime(),o.targetLeft=0,o.targetTop=o.scrollTop,o.amplitudeLeft=-o.scrollLeft,o.amplitudeTop=0,o.isAutoScrolling=!0,o.autoScrollTracker=requestAnimationFrame(o.autoScroll)},scrollToStartTop:function(){o.cancelAutoScroll(),o.timeStamp=e.getTime(),o.targetLeft=o.scrollLeft,o.targetTop=0,o.amplitudeLeft=0,o.amplitudeTop=-o.scrollTop,o.isAutoScrolling=!0,o.autoScrollTracker=requestAnimationFrame(o.autoScroll)},scrollToEnd:function(){var e=0,t=0;o.childNodes.forEach(function(o){var l=o.children[0],r=l.scrollWidth-l.clientWidth,c=l.scrollHeight-l.clientHeight;r>e&&(e=r),c>t&&(t=c)}),o.cancelAutoScroll(),o.scrollTo(e,t)},scrollToEndLeft:function(){var e=0;o.childNodes.forEach(function(t){var o=t.children[0],l=o.scrollWidth-o.clientWidth;l>e&&(e=l)}),o.cancelAutoScroll(),o.scrollTo(e,o.scrollTop)},scrollToEndTop:function(){var e=0;o.childNodes.forEach(function(t){var o=t.children[0],l=o.scrollHeight-o.clientHeight;l>e&&(e=l)}),o.cancelAutoScroll(),o.scrollTo(o.scrollLeft,e)}}},controller:["$scope",function(e){var t=e.childNodes=[];this.addScrollArea=function(e){t.push(e)}}]}}o.$inject=["utils","kineticEngine"],e.exports=o},function(e,t){"use strict";function o(){return{require:"^^connectScrolls",restrict:"E",transclude:!0,replace:!0,template:'<span  data-name="scroll-area" ng-transclude></span>',link:function(e,t,o,l){t.attr("id","PARTICIPATING_NODE_"+Math.random().toString().substring(2,15)),l.addScrollArea(t[0])}}}e.exports=o},function(e,t){"use strict";function o(e,t){return{restrict:"E",scope:{options:"="},transclude:!0,replace:!0,template:'<span data-name="kinetic-scroll" ng-transclude></span>',link:function(o,l){o.hasTouch="ontouchstart"in window,o.DETECT_EVT=o.hasTouch?"touchstart":"mouseover",o.$listener=l[0],o.childNodes=[o.$listener],o.defaultOptions={enableKinetics:!1,movingAverage:.1},o.userOptions=angular.extend({},o.defaultOptions,o.options),t.call(this,o,e),o.$parent.kineticScroll={scrollToStart:function(){o.cancelAutoScroll(),o.scrollTo(0,0)},scrollToStartLeft:function(){o.cancelAutoScroll(),o.scrollTo(0,o.scrollTop)},scrollToStartTop:function(){o.cancelAutoScroll(),o.scrollTo(o.scrollLeft,0)},scrollToEnd:function(){var e=0,t=0;o.childNodes.forEach(function(o){var l=o.children[0],r=l.scrollWidth-l.clientWidth,c=l.scrollHeight-l.clientHeight;r>e&&(e=r),c>t&&(t=c)}),o.cancelAutoScroll(),o.scrollTo(e,t)},scrollToEndLeft:function(){var e=0;o.childNodes.forEach(function(t){var o=t.children[0],l=o.scrollWidth-o.clientWidth;l>e&&(e=l)}),o.cancelAutoScroll(),o.scrollTo(e,o.scrollTop)},scrollToEndTop:function(){var e=0;o.childNodes.forEach(function(t){var o=t.children[0],l=o.scrollHeight-o.clientHeight;l>e&&(e=l)}),o.cancelAutoScroll(),o.scrollTo(o.scrollLeft,e)}}}}}o.$inject=["utils","kineticEngine"],e.exports=o}])});
//# sourceMappingURL=ngAugmentNativeScroll.min.js.map